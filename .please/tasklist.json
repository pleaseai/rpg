{
  "feature": "Improve Semantic Lifting (naming rules, file-level aggregation)",
  "issue_number": 11,
  "plan_path": ".please/plans/2026-02-06-semantic-lifting-improvements.md",
  "spec": null,
  "stage": 2,
  "created_at": "2026-02-06T00:00:00.000Z",
  "updated_at": "2026-02-06T12:03:00.000Z",
  "tasks": [
    {
      "id": "T001",
      "title": "Add feature naming validation to SemanticExtractor",
      "phase": 1,
      "status": "pending",
      "parallel": true,
      "dependencies": [],
      "files_affected": [
        "src/encoder/semantic.ts"
      ]
    },
    {
      "id": "T002",
      "title": "Update LLM system prompt with paper's 11 naming rules",
      "phase": 1,
      "status": "pending",
      "parallel": true,
      "dependencies": [],
      "files_affected": [
        "src/encoder/semantic.ts"
      ]
    },
    {
      "id": "T003",
      "title": "Add heuristic feature name normalization",
      "phase": 2,
      "status": "pending",
      "parallel": false,
      "dependencies": [
        "T001",
        "T002"
      ],
      "files_affected": [
        "src/encoder/semantic.ts"
      ]
    },
    {
      "id": "T004",
      "title": "Add aggregateFileFeatures() method to SemanticExtractor",
      "phase": 1,
      "status": "pending",
      "parallel": true,
      "dependencies": [],
      "files_affected": [
        "src/encoder/semantic.ts"
      ]
    },
    {
      "id": "T005",
      "title": "Integrate file-level aggregation into RPGEncoder.extractEntities()",
      "phase": 2,
      "status": "pending",
      "parallel": false,
      "dependencies": [
        "T004"
      ],
      "files_affected": [
        "src/encoder/encoder.ts"
      ]
    },
    {
      "id": "T006",
      "title": "Reorder Phase 1 to create file->function edges during entity extraction",
      "phase": 3,
      "status": "pending",
      "parallel": false,
      "dependencies": [
        "T005"
      ],
      "files_affected": [
        "src/encoder/encoder.ts"
      ]
    },
    {
      "id": "T007",
      "title": "Add unit tests for feature naming validation",
      "phase": 4,
      "status": "pending",
      "parallel": true,
      "dependencies": [
        "T001"
      ],
      "files_affected": [
        "tests/semantic.test.ts"
      ]
    },
    {
      "id": "T008",
      "title": "Add unit tests for file-level aggregation",
      "phase": 4,
      "status": "pending",
      "parallel": true,
      "dependencies": [
        "T004"
      ],
      "files_affected": [
        "tests/semantic.test.ts"
      ]
    },
    {
      "id": "T009",
      "title": "Add encoder tests for file->function edge generation in Phase 1",
      "phase": 4,
      "status": "pending",
      "parallel": true,
      "dependencies": [
        "T006"
      ],
      "files_affected": [
        "tests/encoder.test.ts"
      ]
    },
    {
      "id": "T010",
      "title": "Run full test suite and fix regressions",
      "phase": 5,
      "status": "pending",
      "parallel": false,
      "dependencies": [
        "T007",
        "T008",
        "T009"
      ],
      "files_affected": []
    }
  ],
  "verification": {
    "automated_tests": [
      "Unit tests pass for feature naming validation",
      "Unit tests pass for file-level aggregation",
      "Encoder tests pass for file->function edge generation",
      "Full test suite passes (bun run test)",
      "Lint passes (bun run lint)",
      "Type check passes (bun run typecheck)"
    ],
    "manual_tests": [
      "Encode a real project and verify feature names follow verb+object format",
      "Verify file-level nodes have synthesized descriptions (not just 'X module in Y')",
      "Verify functional edges include file->function relationships"
    ],
    "acceptance_criteria": [
      "Semantic features follow verb + object naming convention",
      "File-level nodes have synthesized feature descriptions",
      "Functional edges correctly link file nodes to their function children"
    ]
  }
}
